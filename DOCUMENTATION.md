# InteractiveLANgame - ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

## ะะณะปะฐะฒะปะตะฝะธะต

1. [ะะฒะตะดะตะฝะธะต](#ะฒะฒะตะดะตะฝะธะต)
2. [ะััะธัะตะบัััะฐ ะฟัะธะปะพะถะตะฝะธั](#ะฐััะธัะตะบัััะฐ-ะฟัะธะปะพะถะตะฝะธั)
3. [ะะฝัะตััะตะนั ะฅะพััะฐ](#ะธะฝัะตััะตะนั-ัะพััะฐ)
4. [ะะฝัะตััะตะนั ะะพะฑะธะปัะฝะพะณะพ ะะปะธะตะฝัะฐ](#ะธะฝัะตััะตะนั-ะผะพะฑะธะปัะฝะพะณะพ-ะบะปะธะตะฝัะฐ)
5. [ะะณัะพะฒัะต ะผะตัะฐะฝะธะบะธ](#ะธะณัะพะฒัะต-ะผะตัะฐะฝะธะบะธ)
6. [ะะตะดะฐะบัะพั ะฟะฐะบะตัะพะฒ ะฒะพะฟัะพัะพะฒ](#ัะตะดะฐะบัะพั-ะฟะฐะบะตัะพะฒ-ะฒะพะฟัะพัะพะฒ)
7. [ะกะตัะตะฒะพะต ะฒะทะฐะธะผะพะดะตะนััะฒะธะต (P2P)](#ัะตัะตะฒะพะต-ะฒะทะฐะธะผะพะดะตะนััะฒะธะต-p2p)
8. [ะะพะฝัะธะณััะฐัะธั ะธ ะฝะฐัััะพะนะบะธ](#ะบะพะฝัะธะณััะฐัะธั-ะธ-ะฝะฐัััะพะนะบะธ)
9. [ะะพัััะธะต ะบะปะฐะฒะธัะธ](#ะณะพัััะธะต-ะบะปะฐะฒะธัะธ)
10. [ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ](#ััััะฐะฝะตะฝะธะต-ะฝะตะฟะพะปะฐะดะพะบ)

---

## ะะฒะตะดะตะฝะธะต

### ะะฐะทะฝะฐัะตะฝะธะต ะฟัะธะปะพะถะตะฝะธั

**InteractiveLANgame** โ ััะพ ะผะฝะพะณะพะฟะพะปัะทะพะฒะฐัะตะปััะบะฐั ะฒะธะบัะพัะธะฝะฐ ะฒ ััะธะปะต "ะกะฒะพั ะธะณัะฐ" (Jeopardy), ะฟัะตะดะฝะฐะทะฝะฐัะตะฝะฝะฐั ะดะปั ะฟัะพะฒะตะดะตะฝะธั ะปะพะบะฐะปัะฝัั ะธ ะพะฝะปะฐะนะฝ-ะธะณัะพะฒัั ัะตััะธะน.

### ะะปััะตะฒัะต ะพัะพะฑะตะฝะฝะพััะธ

- **P2P-ัะพะตะดะธะฝะตะฝะธะต** โ ะฟััะผะพะต ัะพะตะดะธะฝะตะฝะธะต ะผะตะถะดั ัะพััะพะผ ะธ ะธะณัะพะบะฐะผะธ ัะตัะตะท WebRTC
- **LAN/Internet ัะตะถะธะผั** โ ัะฐะฑะพัะฐ ะฒ ะปะพะบะฐะปัะฝะพะน ัะตัะธ ะธะปะธ ัะตัะตะท ะธะฝัะตัะฝะตั
- **ะะพะฑะธะปัะฝัะต ะบะปะธะตะฝัั** โ ะธะณัะพะบะธ ะฟะพะดะบะปััะฐัััั ัะพ ัะฒะพะธั ัะผะฐัััะพะฝะพะฒ ะฒ ะบะฐัะตััะฒะต ะฟัะปััะพะฒ
- **ะะตะดะฐะบัะพั ะฟะฐะบะตัะพะฒ** โ ัะพะทะดะฐะฝะธะต ัะพะฑััะฒะตะฝะฝัั ะฝะฐะฑะพัะพะฒ ะฒะพะฟัะพัะพะฒ ั ะผะตะดะธะฐ-ะบะพะฝัะตะฝัะพะผ
- **ะกะธััะตะผะฐ ัะฐะนะผะตัะพะฒ** โ ัะฐะทั ััะตะฝะธั ะธ ะพัะฒะตัะฐ ั ะฝะฐัััะฐะธะฒะฐะตะผัะผ ะฒัะตะผะตะฝะตะผ
- **ะกะธััะตะผะฐ ััะฐะฒะพะบ** โ ัะฟะตัะธะฐะปัะฝัะน ัะฐัะฝะด Super Game ั ะผะตัะฐะฝะธะบะพะน ััะฐะฒะพะบ
- **QR-ะบะพะด ะฟะพะดะบะปััะตะฝะธะต** โ ะฑััััะพะต ะฟะพะดะบะปััะตะฝะธะต ัะบะฐะฝะธัะพะฒะฐะฝะธะตะผ QR-ะบะพะดะฐ

---

## ะััะธัะตะบัััะฐ ะฟัะธะปะพะถะตะฝะธั

### ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

| ะขะตัะฝะพะปะพะณะธั | ะะตััะธั | ะะฐะทะฝะฐัะตะฝะธะต |
|------------|--------|------------|
| React | 19.2.3 | UI ััะตะนะผะฒะพัะบ |
| TypeScript | 5.8.2 | ะขะธะฟะธะทะฐัะธั |
| Vite | 6.2.0 | ะกะฑะพััะธะบ ะฟัะพะตะบัะฐ |
| PeerJS | 1.5.5 | WebRTC ัะพะตะดะธะฝะตะฝะธั |
| Tailwind CSS | - | ะกัะธะปะธะทะฐัะธั (ัะตัะตะท CDN) |
| Lucide React | 0.562.0 | ะะบะพะฝะบะธ |
| qrcode.react | 4.2.0 | ะะตะฝะตัะฐัะธั QR-ะบะพะดะพะฒ |
| ws | 8.18.0 | WebSocket signalling server |

### ะกัััะบัััะฐ ะฟัะธะปะพะถะตะฝะธั

```
InteractiveLANgame/
โโโ App.tsx                    # ะะปะฐะฒะฝัะน ะบะพะผะฟะพะฝะตะฝั ั ัะพััะธะฝะณะพะผ
โโโ index.tsx                  # ะขะพัะบะฐ ะฒัะพะดะฐ React
โโโ config.ts                  # ะะพะฝัะธะณััะฐัะธั ะฟัะธะปะพะถะตะฝะธั
โโโ types.ts                   # ะะฑัะธะต ัะธะฟั TypeScript
โโโ components/
โ   โโโ HostView.tsx           # ะะปะฐะฒะฝัะน ะธะฝัะตััะตะนั ัะพััะฐ
โ   โโโ MobileView.tsx         # ะะปะฐะฒะฝัะน ะธะฝัะตััะตะนั ะธะณัะพะบะฐ
โ   โโโ Button.tsx             # ะะตัะตะธัะฟะพะปัะทัะตะผะฐั ะบะฝะพะฟะบะฐ
โ   โโโ ErrorBoundary.tsx      # ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
โ   โโโ host/                  # ะะพะผะฟะพะฝะตะฝัั ัะพััะฐ
โ   โ   โโโ GamePlay.tsx       # ะะณัะพะฒะพะน ะฟัะพัะตัั
โ   โ   โโโ HostSetupPanel.tsx # ะะฐะฝะตะปั ะฝะฐัััะพะนะบะธ ัะพััะฐ
โ   โ   โโโ LobbyPanel.tsx     # ะะพะฑะฑะธ ะฟะตัะตะด ะธะณัะพะน
โ   โ   โโโ GameSession.tsx    # ะะบัะธะฒะฝะฐั ะธะณัะพะฒะฐั ัะตััะธั
โ   โ   โโโ TeamManager.tsx    # ะฃะฟัะฐะฒะปะตะฝะธะต ะบะพะผะฐะฝะดะฐะผะธ
โ   โ   โโโ SettingsModal.tsx  # ะะพะดะฐะปัะฝะพะต ะพะบะฝะพ ะฝะฐัััะพะตะบ
โ   โ   โโโ PackEditor.tsx     # ะะตะดะฐะบัะพั ะฟะฐะบะตัะพะฒ
โ   โ   โโโ GameSelectorModal.tsx # ะัะฑะพั ะฟะฐะบะตัะฐ
โ   โ   โโโ game/              # ะะณัะพะฒัะต ะบะพะผะฟะพะฝะตะฝัั
โ   โ   โ   โโโ GameBoard.tsx  # ะะณัะพะฒะพะต ะฟะพะปะต
โ   โ   โ   โโโ QuestionModal.tsx # ะะพะดะฐะปัะฝะพะต ะพะบะฝะพ ะฒะพะฟัะพัะฐ
โ   โ   โ   โโโ TimerDisplay.tsx # ะะธัะฟะปะตะน ัะฐะนะผะตัะฐ
โ   โ   โ   โโโ ScorePanel.tsx # ะะฐะฝะตะปั ััััะฐ
โ   โ   โ   โโโ SuperGameRound.tsx # ะะฐัะฝะด Super Game
โ   โ   โ   โโโ BettingPanel.tsx # ะะฐะฝะตะปั ััะฐะฒะพะบ
โ   โ   โ   โโโ modals/        # ะะพะดะฐะปัะฝัะต ะพะบะฝะฐ
โ   โ   โโโ packeditor/        # ะะพะผะฟะพะฝะตะฝัั ัะตะดะฐะบัะพัะฐ
โ   โ   โโโ messageHandlers/   # ะะฑัะฐะฑะพััะธะบะธ ัะพะพะฑัะตะฝะธะน
โ   โโโ mobile/                # ะะพะผะฟะพะฝะตะฝัั ะผะพะฑะธะปัะฝะพะณะพ ะบะปะธะตะฝัะฐ
โ   โ   โโโ MobileLobby.tsx    # ะะพะฑะฑะธ ะธะณัะพะบะฐ
โ   โ   โโโ MobileBuzzer.tsx   # ะะฝะพะฟะบะฐ ะฑัะทะทะตัะฐ
โ   โ   โโโ MobileQuestion.tsx # ะะพะฟัะพั ะฝะฐ ะผะพะฑะธะปัะฝะพะผ
โ   โโโ shared/                # ะะฑัะธะต ะบะพะผะฟะพะฝะตะฝัั
โ       โโโ BaseModal.tsx      # ะะฐะทะพะฒัะน ะผะพะดะฐะปัะฝัะน ะบะพะผะฟะพะฝะตะฝั
โโโ hooks/                     # React ััะบะธ
โ   โโโ useP2PHost.ts          # P2P ัะพัั
โ   โโโ useP2PClient.ts        # P2P ะบะปะธะตะฝั
โ   โโโ useBuzz.ts             # ะฃะฟัะฐะฒะปะตะฝะธะต ะฑัะทะทะตัะพะผ
โ   โโโ useTeamManager.ts      # ะฃะฟัะฐะฒะปะตะฝะธะต ะบะพะผะฐะฝะดะฐะผะธ
โ   โโโ useSessionSettings.ts  # ะะฐัััะพะนะบะธ ัะตััะธะธ
โ   โโโ ...
โโโ utils/                     # ะฃัะธะปะธัั
โ   โโโ network.ts             # ะกะตัะตะฒัะต ััะฝะบัะธะธ
โ   โโโ uuid.ts                # ะะตะฝะตัะฐัะธั UUID
โ   โโโ healthColor.ts         # ะฆะฒะตัะฐ ะดะปั ะทะดะพัะพะฒัั
โโโ server/
    โโโ signalling-server.js   # WebSocket signalling server
```

### ะะพัะพะบะธ ัะฟัะฐะฒะปะตะฝะธั

#### ะะฐัััััะธะทะฐัะธั ะฟัะธะปะพะถะตะฝะธั

```
App.tsx
    โโโ URL hash = #/mobile โ MobileView
    โโโ ะธะฝะฐัะต โ HostView
```

#### ะะธะทะฝะตะฝะฝัะน ัะธะบะป ัะพััะฐ

```
1. ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั
2. ะะตะฝะตัะฐัะธั Host ID
3. ะะฐัััะพะนะบะฐ IP (LAN) ะธะปะธ Internet ัะตะถะธะผ
4. ะกะพะทะดะฐะฝะธะต ะบะพะผะฐะฝะด
5. ะะตะฝะตัะฐัะธั QR-ะบะพะดะฐ
6. ะะพะดะบะปััะตะฝะธะต ะธะณัะพะบะพะฒ
7. ะัะฑะพั ะฟะฐะบะตัะฐ ะฒะพะฟัะพัะพะฒ
8. ะะฐะฟััะบ ะธะณัะพะฒะพะน ัะตััะธะธ
9. ะัะพะฒะตะดะตะฝะธะต ะธะณัั
10. ะะฐะฒะตััะตะฝะธะต (ััะพะนะฝะพะต ESC)
```

#### ะะธะทะฝะตะฝะฝัะน ัะธะบะป ะผะพะฑะธะปัะฝะพะณะพ ะบะปะธะตะฝัะฐ

```
1. ะกะบะฐะฝะธัะพะฒะฐะฝะธะต QR-ะบะพะดะฐ ะธะปะธ ะฒะฒะพะด URL
2. ะะฒะพะด ะธะผะตะฝะธ
3. ะัะฑะพั ะบะพะผะฐะฝะดั
4. ะะถะธะดะฐะฝะธะต ะฟะพะดัะฒะตัะถะดะตะฝะธั ัะพััะฐ
5. ะะณัะพะฒะพะน ัะบัะฐะฝ ั ะฑัะทะทะตัะพะผ
6. ะะฐะถะฐัะธะต ะฑัะทะทะตัะฐ ะฟัะธ ะฐะบัะธะฒะฝะพะผ ะฒะพะฟัะพัะต
7. ะัะพะฑัะฐะถะตะฝะธะต ัะตะทัะปััะฐัะฐ
```

---

## ะะฝัะตััะตะนั ะฅะพััะฐ

### ะะปะฐะฒะฝัะน ัะบัะฐะฝ (HostView)

#### ะะฐะฝะตะปั ะฝะฐัััะพะนะบะธ ัะพััะฐ (HostSetupPanel)

**ะญะปะตะผะตะฝัั:**

1. **ะะพะปะต ะฒะฒะพะดะฐ IP**
   - ะะฐะทะฝะฐัะตะฝะธะต: ะฃะบะฐะทัะฒะฐะตั IP-ะฐะดัะตั ะดะปั LAN ัะตะถะธะผะฐ
   - ะะฒัะพะทะฐะฟะพะปะฝะตะฝะธะต: ะะฟัะตะดะตะปัะตั ะปะพะบะฐะปัะฝัะน IP ะฐะฒัะพะผะฐัะธัะตัะบะธ
   - ะคะพัะผะฐั: `192.168.x.x`

2. **ะะตัะตะบะปััะฐัะตะปั LAN/Internet**
   - LAN: ะขัะตะฑัะตั signalling server ะฝะฐ ะปะพะบะฐะปัะฝะพะผ IP
   - Internet: ะัะฟะพะปัะทัะตั ะฟัะฑะปะธัะฝัะน signalling server

3. **Session ID**
   - 5-ัะธะผะฒะพะปัะฝัะน ะธะดะตะฝัะธัะธะบะฐัะพั ัะตััะธะธ
   - ะัะพะฑัะฐะถะฐะตััั ะบััะฟะฝัะผ ััะธััะพะผ
   - ะะฝะพะฟะบะฐ ะพะฑะฝะพะฒะปะตะฝะธั ะดะปั ะณะตะฝะตัะฐัะธะธ ะฝะพะฒะพะณะพ ID

4. **QR-ะบะพะด**
   - ะกะพะดะตัะถะธั ะดะฐะฝะฝัะต ะดะปั ะฟะพะดะบะปััะตะฝะธั
   - ะะบะปััะฐะตั IP ะธ session ID
   - ะะฝะธะผะธัะพะฒะฐะฝะฝัะน QR-ะบะพะด

5. **ะะฝะพะฟะบะฐ "ะกะบะพะฟะธัะพะฒะฐัั ัััะปะบั"**
   - ะะพะฟะธััะตั URL ะฟะพะดะบะปััะตะฝะธั ะฒ ะฑััะตั ะพะฑะผะตะฝะฐ
   - ะะธะทัะฐะปัะฝะฐั ะฐะฝะธะผะฐัะธั ะฟัะธ ะบะพะฟะธัะพะฒะฐะฝะธะธ

#### ะะฐะฝะตะปั ะปะพะฑะฑะธ (LobbyPanel)

**ะคัะฝะบัะธะพะฝะฐะป:**

1. **ะกะฟะธัะพะบ ะบะพะผะฐะฝะด**
   - ะัะพะฑัะฐะถะตะฝะธะต ะฒัะตั ัะพะทะดะฐะฝะฝัั ะบะพะผะฐะฝะด
   - ะกััััะธะบ ะธะณัะพะบะพะฒ ะฒ ะบะฐะถะดะพะน ะบะพะผะฐะฝะดะต
   - ะะธะทัะฐะปัะฝะฐั ะธะฝะดะธะบะฐัะธั ะฑัะทะทะตัะพะฒ (ะฑะตะปะฐั ะฒัะฟััะบะฐ)
   - ะฃะดะฐะปะตะฝะธะต ะบะพะผะฐะฝะด

2. **ะกะพะทะดะฐะฝะธะต ะบะพะผะฐะฝะดั**
   - ะะฝะปะฐะนะฝ-ัะพัะผะฐ ะดะปั ะฑััััะพะณะพ ัะพะทะดะฐะฝะธั
   - ะะฐะปะธะดะฐัะธั ะธะผะตะฝะธ (ะฝะต ะฟัััะพะต)
   - ะะฒัะพะผะฐัะธัะตัะบะพะต ัะดะฐะปะตะฝะธะต ะฟััััั ะบะพะผะฐะฝะด ัะตัะตะท 5 ะผะธะฝัั

3. **ะกะฟะธัะพะบ ะฟะพะดะบะปัััะฝะฝัั ะบะปะธะตะฝัะพะฒ**
   - ะะผั ะธะณัะพะบะฐ
   - ะขะตะบััะฐั ะบะพะผะฐะฝะดะฐ
   - ะกัะฐััั ะฟะพะดะบะปััะตะฝะธั
   - Drag-and-drop ะดะปั ัะฐัะฟัะตะดะตะปะตะฝะธั ะฟะพ ะบะพะผะฐะฝะดะฐะผ

4. **ะะฝะพะฟะบะฐ ะฝะฐัััะพะตะบ**
   - ะัะบััะฒะฐะตั ะผะพะดะฐะปัะฝะพะต ะพะบะฝะพ Session Settings
   - ะะฝะฐัะพะบ ัะตััะตััะฝะบะธ

5. **ะะฝะพะฟะบะฐ ะฒัะฑะพัะฐ ะฟะฐะบะตัะฐ**
   - ะัะบััะฒะฐะตั GameSelectorModal
   - ะัะพะฑัะฐะถะฐะตั ะฒัะฑัะฐะฝะฝัะน ะฟะฐะบะตั

6. **ะะฝะพะฟะบะฐ "ะะฐัะฐัั ัะตััะธั"**
   - ะะบัะธะฒะฝะฐ ะฟัะธ ะฝะฐะปะธัะธะธ ะฟะพะดะบะปัััะฝะฝัั ะบะปะธะตะฝัะพะฒ
   - ะะฐะฟััะบะฐะตั ะธะณัะพะฒะพะน ะฟัะพัะตัั

### ะะฐัััะพะนะบะธ ัะตััะธะธ (SettingsModal)

#### ะขะฐะนะผะตัั

| ะะฐัััะพะนะบะฐ | ะะฟะธัะฐะฝะธะต | ะะธะฐะฟะฐะทะพะฝ | ะะพ ัะผะพะปัะฐะฝะธั |
|-----------|----------|----------|--------------|
| Reading Time | ะัะตะผั ะฝะฐ ััะตะฝะธะต ะฒะพะฟัะพัะฐ | 1-60 ัะตะบ/ะฑัะบะฒะฐ | 0.1 |
| Response Window | ะะบะฝะพ ะดะปั ะฑัะทะทะตัะฐ | 1-60 ัะตะบ | 10 |
| Handicap Delay | ะะฐะดะตัะถะบะฐ ะดะปั ะพัััะฐััะธั | 0-10 ัะตะบ | 2 |
| Handicap Enabled | ะะบะปััะธัั ะณะฐะฝะดะธะบะฐะฟ | ะฒะบะป/ะฒัะบะป | ะดะฐ |

#### ะัะทะทะตั

| ะะฐัััะพะนะบะฐ | ะะฟะธัะฐะฝะธะต | ะะธะฐะฟะฐะทะพะฝ | ะะพ ัะผะพะปัะฐะฝะธั |
|-----------|----------|----------|--------------|
| Simultaneous Press | ะะฑะฝะฐััะถะตะฝะธะต ะพะดะฝะพะฒัะตะผะตะฝะฝะพะณะพ ะฝะฐะถะฐัะธั | ะฒะบะป/ะฒัะบะป | ะดะฐ |
| Threshold | ะะพัะพะณ ะพะดะฝะพะฒัะตะผะตะฝะฝะพััะธ | 0.25-2.0 ัะตะบ | 0.5 |
| Collision Handling | ะะฑัะฐะฑะพัะบะฐ ะบะพะปะปะธะทะธะน | ะฒะบะป/ะฒัะบะป | ะดะฐ |
| Underdog Bonus | ะะพะฝัั ะพัััะฐััะธะผ +20% | ะฒะบะป/ะฒัะบะป | ะดะฐ |

#### ะัะพะฑัะฐะถะตะฝะธะต

| ะะฐัััะพะนะบะฐ | ะะฟะธัะฐะฝะธะต | ะะฐัะธะฐะฝัั |
|-----------|----------|----------|
| Show Teams | ะะพะบะฐะทัะฒะฐัั ะบะพะผะฐะฝะดั | ะะณัะพะบะธ/ะะพะผะฐะฝะดั |
| Theme Style | ะกัะธะปั ัะตะผ | ะะปะฐััะธัะตัะบะธะน/ะกะพะฒัะตะผะตะฝะฝัะน |

### ะะณัะพะฒะฐั ัะตััะธั (GameSession)

#### ะกัััะบัััะฐ ัะบัะฐะฝะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  [ESC]้ๅบ  Session ID: ABC12    [ะะฐัััะพะนะบะธ] โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                         โ
โ           ะะณัะพะฒะพะต ะฟะพะปะต                  โ
โ        (GameBoard)                      โ
โ                                         โ
โ  โโโโโโโโ โโโโโโโโ โโโโโโโโ          โ
โ  โ 100  โ โ 200  โ โ 300  โ          โ
โ  โโโโโโโโ โโโโโโโโ โโโโโโโโ          โ
โ                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ะะฐะฝะตะปั ััััะฐ (ScorePanel)              โ
โ  ะะพะผะฐะฝะดะฐ 1: 1000  ะะพะผะฐะฝะดะฐ 2: 800       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ะญะปะตะผะตะฝัั ัะฟัะฐะฒะปะตะฝะธั

1. **ะะฝะพะฟะบะฐ "ะะฐะทะฐะด ะฒ ะปะพะฑะฑะธ"**
   - ะัะตััะฒะฐะตั ัะตะบัััั ะธะณัั
   - ะะพะทะฒัะฐัะฐะตั ะบ ัะบัะฐะฝั ะฟะพะดะบะปััะตะฝะธั
   - ะกะพััะฐะฝัะตั ะฟัะพะณัะตัั

2. **ะะฝะพะฟะบะฐ "ะะฐัััะพะนะบะธ"**
   - ะัััััะน ะดะพัััะฟ ะบ ะฝะฐัััะพะนะบะฐะผ
   - ะะทะผะตะฝะตะฝะธั ะฟัะธะผะตะฝััััั ะฝะตะผะตะดะปะตะฝะฝะพ

3. **ะะฝะดะธะบะฐัะพั ัะตััะธะธ**
   - Session ID
   - ะะพะปะธัะตััะฒะพ ะฟะพะดะบะปัััะฝะฝัั ะธะณัะพะบะพะฒ
   - ะกัะฐััั ัะพะตะดะธะฝะตะฝะธั

---

## ะะฝัะตััะตะนั ะะพะฑะธะปัะฝะพะณะพ ะะปะธะตะฝัะฐ

### ะญะบัะฐะฝ ะฝะฐัััะพะนะบะธ (MobileLobby)

#### ะะพะปั ะฒะฒะพะดะฐ

1. **ะะผั ะธะณัะพะบะฐ**
   - ะะฑัะทะฐัะตะปัะฝะพะต ะฟะพะปะต
   - ะกะพััะฐะฝัะตััั ะฒ localStorage
   - ะะฐะบัะธะผะฐะปัะฝะฐั ะดะปะธะฝะฐ: 20 ัะธะผะฒะพะปะพะฒ

2. **ะัะฑะพั ะบะพะผะฐะฝะดั**
   - ะัะฟะฐะดะฐััะธะน ัะฟะธัะพะบ ะบะพะผะฐะฝะด ัะพััะฐ
   - ะะฟัะธั "ะกะพะทะดะฐัั ะฝะพะฒัั ะบะพะผะฐะฝะดั"
   - ะะฑะฝะพะฒะปัะตััั ะฟัะธ ะฟะพะปััะตะฝะธะธ ัะฟะธัะบะฐ ะบะพะผะฐะฝะด

3. **ะกัะฐััั ะฟะพะดะบะปััะตะฝะธั**
   - ๐ด ะะต ะฟะพะดะบะปััะตะฝะพ
   - ๐ก ะะพะดะบะปััะตะฝะธะต...
   - ๐ข ะะพะดะบะปััะตะฝะพ

### ะญะบัะฐะฝ ะธะณัั (MobileBuzzer)

#### ะกัััะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะฒะฐะฝ  |  ะะพะผะฐะฝะดะฐ 1  |  ABC12  [๐ช]    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                         โ
โ                                         โ
โ                                         โ
โ           โโโโโโโโโโโโโ                 โ
โ           โ           โ                 โ
โ           โ   BUZZ    โ                 โ
โ           โ           โ                 โ
โ           โโโโโโโโโโโโโ                 โ
โ                                         โ
โ                                         โ
โ  ะะฐะถะผะธัะต, ะบะพะณะดะฐ ะทะฝะฐะตัะต ะพัะฒะตั!          โ
โ                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ะะพะฒะตะดะตะฝะธะต ะฑัะทะทะตัะฐ

1. **ะะบัะธะฒะฝะพะต ัะพััะพัะฝะธะต**
   - ะะฝะพะฟะบะฐ ะฟัะปััะธััะตั
   - ะัะฐะดะธะตะฝัะฝะฐั ะฟะพะดัะฒะตัะบะฐ
   - ะขะตะบัั "ะะฐะถะผะธัะต!"

2. **ะะฐะถะฐัะธะต**
   - ะัะฟัะฐะฒะบะฐ ัะพะฑััะธั BUZZ ะฝะฐ ัะพัั
   - ะะธะฑัะฐัะธั (ะตัะปะธ ะฟะพะดะดะตัะถะธะฒะฐะตััั)
   - ะะธะทัะฐะปัะฝะฐั ะพะฑัะฐัะฝะฐั ัะฒัะทั

3. **ะะตะฐะบัะธะฒะฝะพะต ัะพััะพัะฝะธะต**
   - ะะฝะพะฟะบะฐ ัะตัะฐั
   - ะขะตะบัั "ะะถะธะดะฐะฝะธะต..."
   - ะะฐะถะฐัะธะต ะฑะปะพะบะธััะตััั

4. **ะะตะทัะปััะฐั ะฑัะทะทะตัะฐ**
   - โ ะะตัะฒัะน โ ะทะตะปัะฝะฐั ะฒัะฟััะบะฐ
   - โ ะะฟะพะทะดะฐะป โ ะบัะฐัะฝะฐั ะฒัะฟััะบะฐ
   - โ๏ธ ะะดะฝะพะฒัะตะผะตะฝะฝะพ โ ะถัะปัะฐั ะฒัะฟััะบะฐ

---

## ะะณัะพะฒัะต ะผะตัะฐะฝะธะบะธ

### ะคะฐะทั ะธะณัั

#### 1. Intro Sequence (ะัััะฟะธัะตะปัะฝะฐั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั)

| ะญะบัะฐะฝ | ะะฟะธัะฐะฝะธะต | ะฃะฟัะฐะฒะปะตะฝะธะต |
|-------|----------|------------|
| Cover | ะะฑะปะพะถะบะฐ ะฟะฐะบะตัะฐ | Space โ ะดะฐะปะตะต |
| Themes | ะะฐะทะฒะฐะฝะธั ัะตะผ ัะฐัะฝะดะฐ | Space โ ะดะฐะปะตะต |
| Round | ะะฑะปะพะถะบะฐ ัะฐัะฝะดะฐ | Space โ ะดะฐะปะตะต |
| Board | ะะณัะพะฒะพะต ะฟะพะปะต | ะะปะธะบ ะฝะฐ ะฒะพะฟัะพั |

**ะะปะฐะฒะธัะธ ะฝะฐะฒะธะณะฐัะธะธ:**
- `1-9` โ ะฑัััััะน ะฟะตัะตัะพะด ะบ ัะฐัะฝะดั
- `R R` (ะดะฒะพะนะฝะพะต ะฝะฐะถะฐัะธะต) โ ัะปะตะดัััะธะน ัะฐัะฝะด
- `E E` (ะดะฒะพะนะฝะพะต ะฝะฐะถะฐัะธะต) โ ะฟัะตะดัะดััะธะน ัะฐัะฝะด
- `โ/โ` โ ะฟัะพะบัััะบะฐ ัะตะผ

#### 2. Game Board (ะะณัะพะฒะพะต ะฟะพะปะต)

**ะกัััะบัััะฐ:**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะขะตะผะฐ 1         โ  ะขะตะผะฐ 2         โ  ะขะตะผะฐ 3  โ
โ  โโโโโ โโโโโ    โ  โโโโโ โโโโโ    โ  โโโโโ  โ
โ  โ100โ โ200โ    โ  โ100โ โ200โ    โ  โ100โ  โ
โ  โโโโโ โโโโโ    โ  โโโโโ โโโโโ    โ  โโโโโ  โ
โ  โโโโโ โโโโโ    โ  โโโโโ โโโโโ    โ  โโโโโ  โ
โ  โ300โ โ400โ    โ  โ300โ โ400โ    โ  โ300โ  โ
โ  โโโโโ โโโโโ    โ  โโโโโ โโโโโ    โ  โโโโโ  โ
โ  โโโโโ โโโโโ    โ  โโโโโ โโโโโ    โ  โโโโโ  โ
โ  โ500โ โ600โ    โ  โ500โ โ600โ    โ  โ500โ  โ
โ  โโโโโ โโโโโ    โ  โโโโโ โโโโโ    โ  โโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะกะพััะพัะฝะธั ะฒะพะฟัะพัะพะฒ:**
- ๐ฆ ะะต ะพัะบััั
- ๐ฉ ะัะบััั (ััะณัะฐะฝ)
- โฌ ะัะฑัะฐะฝ ัะตะนัะฐั

#### 3. Question Modal (ะะพะดะฐะปัะฝะพะต ะพะบะฝะพ ะฒะพะฟัะพัะฐ)

**ะญะปะตะผะตะฝัั:**

1. **ะะฐะณะพะปะพะฒะพะบ**
   - ะะฐะทะฒะฐะฝะธะต ัะตะผั
   - ะกัะพะธะผะพััั ะฒะพะฟัะพัะฐ
   - ะะฐะทะฒะฐะฝะธะต ัะฐัะฝะดะฐ

2. **ะขะตะบัั ะฒะพะฟัะพัะฐ**
   - ะะดะฐะฟัะธะฒะฝัะน ัะฐะทะผะตั ััะธััะฐ
   - ะะฒัะพะผะฐัะธัะตัะบะฐั ะฟะพะดัััะพะนะบะฐ ะฟะพะด ะดะปะธะฝั
   - ะะพะดะดะตัะถะบะฐ ัะพัะผะฐัะธัะพะฒะฐะฝะธั

3. **ะะตะดะธะฐ-ะบะพะฝัะตะฝั**
   - ะะทะพะฑัะฐะถะตะฝะธั: ัะตะฝััะธัะพะฒะฐะฝะฝัะต, ะผะฐะบั. ัะธัะธะฝะฐ 80%
   - ะะธะดะตะพ: ะฐะฒัะพะฟะปะตะน, ะบะพะฝััะพะปั
   - ะัะดะธะพ: ะบะฝะพะฟะบะฐ ะฒะพัะฟัะพะธะทะฒะตะดะตะฝะธั

4. **ะขะฐะนะผะตั**
   - ะคะฐะทะฐ ััะตะฝะธั: ะพะฑัะฐัะฝัะน ะพััััั
   - ะคะฐะทะฐ ะพัะฒะตัะฐ: ะพะฑัะฐัะฝัะน ะพััััั
   - ะฆะฒะตัะพะฒะฐั ะธะฝะดะธะบะฐัะธั:
     - ๐ข ะะตะปัะฝัะน โ ะดะพััะฐัะพัะฝะพ ะฒัะตะผะตะฝะธ
     - ๐ก ะัะปััะน โ ะผะตะฝะตะต 50%
     - ๐ด ะัะฐัะฝัะน โ ะผะตะฝะตะต 20%

5. **ะะฝะพะฟะบะธ ัะฟัะฐะฒะปะตะฝะธั ะพัะฒะตัะพะผ**
   - `ะัะฐะฒะธะปัะฝะพ` (Space) โ ะดะพะฑะฐะฒะธัั ะพัะบะธ
   - `ะะตะฟัะฐะฒะธะปัะฝะพ` (Ctrl) โ ะฒััะตััั ะพัะบะธ
   - `ะัะพะฟัััะธัั` (Esc) โ ะฑะตะท ะธะทะผะตะฝะตะฝะธั ะพัะบะพะฒ

6. **ะะฐะฝะตะปั ะพัะฒะตัะพะฒ**
   - ะกะฟะธัะพะบ ะฒะฐัะธะฐะฝัะพะฒ ะพัะฒะตัะพะฒ
   - ะะปะธะบ ะดะปั ะฟะพะดัะฒะตัะบะธ ะฟัะฐะฒะธะปัะฝะพะณะพ
   - ะะฝะธะผะฐัะธั ัะฐัะบัััะธั

#### 4. Super Game (ะกะฟะตัะธะฐะปัะฝัะน ัะฐัะฝะด)

**ะคะฐะทั Super Game:**

| ะคะฐะทะฐ | ะะฟะธัะฐะฝะธะต | ะะตะนััะฒะธั |
|------|----------|----------|
| Select Super Themes | ะัะฑะพั ัะตะผ ะดะปั Super Game | ะัะฑัะฐัั 1-3 ัะตะผั |
| Place Bets | ะะพะผะฐะฝะดั ะดะตะปะฐัั ััะฐะฒะบะธ | ะะพะฝะธัะพัะธะฝะณ ััะฐะฒะพะบ |
| Super Question | ะะพะบะฐะท ะฒะพะฟัะพัะฐ | ะะบะปััะธัั ะฐัะดะธะพ/ะฒะธะดะตะพ |
| Super Answers | ะะพะผะฐะฝะดั ะพัะฒะตัะฐัั | ะะพะฝะธัะพัะธะฝะณ ะพัะฒะตัะพะฒ |
| Show Winner | ะะพะบะฐะท ะฟะพะฑะตะดะธัะตะปั | ะะฐัะบัััั ัะตะทัะปััะฐัั |

**ะะตัะฐะฝะธะบะฐ ััะฐะฒะพะบ:**
- ะะธะฝะธะผะฐะปัะฝะฐั ััะฐะฒะบะฐ: 1
- ะะฐะบัะธะผะฐะปัะฝะฐั ััะฐะฒะบะฐ: ัะตะบััะธะน ัััั ะบะพะผะฐะฝะดั
- ะะพะผะฐะฝะดั ะผะพะณัั ะผะตะฝััั ััะฐะฒะบั ะดะพ ะทะฐะบัััะธั

**ะะฐัะธัะปะตะฝะธะต ะพัะบะพะฒ:**
- ะัะฐะฒะธะปัะฝัะน ะพัะฒะตั: +ััะฐะฒะบะฐ
- ะะตะฟัะฐะฒะธะปัะฝัะน ะพัะฒะตั: -ััะฐะฒะบะฐ

### ะกะธััะตะผะฐ ัะฐะนะผะตัะพะฒ

#### Reading Timer (ะขะฐะนะผะตั ััะตะฝะธั)

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะตะผั ะดะปั ะฒะตะดััะตะณะพ ะฟัะพัะธัะฐัั ะฒะพะฟัะพั

**ะะฐัััั:**
```
Reading Time = (ะะปะธะฝะฐ ัะตะบััะฐ / ะะพะปะธัะตััะฒะพ ะฑัะบะฒ) ร Reading Time Per Letter
```

**ะะฐัััะพะนะบะฐ:**
- `readingTimePerLetter`: 0.05โ2.0 ัะตะบัะฝะด ะฝะฐ ะฑัะบะฒั
- ะะพะถะตั ะฑััั ะพัะบะปัััะฝ (ะฑะตัะบะพะฝะตัะฝะพะต ะฒัะตะผั)

#### Response Timer (ะขะฐะนะผะตั ะพัะฒะตัะฐ)

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะบะฝะพ ะดะปั ะฝะฐะถะฐัะธั ะฑัะทะทะตัะฐ ะธะณัะพะบะฐะผะธ

**ะะฐัััะพะนะบะฐ:**
- `responseWindow`: 1โ60 ัะตะบัะฝะด
- ะะฑัะฐัะฝัะน ะพััััั ั ะฒะธะทัะฐะปัะฝะพะน ะธะฝะดะธะบะฐัะธะตะน

#### Handicap System (ะกะธััะตะผะฐ ะณะฐะฝะดะธะบะฐะฟะฐ)

**ะัะธะฝัะธะฟ:** ะะพะผะฐะฝะดั ั ะผะตะฝััะธะผ ััััะพะผ ะฟะพะปััะฐัั ะฟัะตะธะผััะตััะฒะพ

**ะคะพัะผัะปะฐ:**
```
Handicap Delay = Base Delay ร (1 - TeamScore / MaxScore)
```

**ะัะธะผะตั:**
- ะะฐะทะพะฒะฐั ะทะฐะดะตัะถะบะฐ: 2 ัะตะบัะฝะดั
- ะะพะผะฐะฝะดะฐ ั 1000 ะพัะบะพะฒ: 0 ัะตะบ ะทะฐะดะตัะถะบะธ
- ะะพะผะฐะฝะดะฐ ั 500 ะพัะบะฐะผะธ: 1 ัะตะบ ะทะฐะดะตัะถะบะธ
- ะะพะผะฐะฝะดะฐ ั 0 ะพัะบะพะฒ: 2 ัะตะบ ะทะฐะดะตัะถะบะธ

### ะกะธััะตะผะฐ ะฑัะทะทะตัะฐ

#### ะะฑัะฐะฑะพัะบะฐ ะฝะฐะถะฐัะธะน

**ะะพัะพะบ ัะพะฑััะธะน:**

```
1. ะะณัะพะบ ะฝะฐะถะธะผะฐะตั ะฑัะทะทะตั
   โ
2. ะัะฟัะฐะฒะบะฐ ัะพะฑััะธั BUZZ ั timestamp
   โ
3. ะฅะพัั ะฟะพะปััะฐะตั ัะพะฑััะธะต
   โ
4. ะัะพะฒะตัะบะฐ: isFirstBuzz()?
   โโ ะะฐ โ ะะฐะฟะธัั ะฟะตัะฒะพะณะพ ะฑัะทะทะตัะฐ
   โโ ะะตั โ ะัะพะฒะตัะบะฐ ะฝะฐ ะพะดะฝะพะฒัะตะผะตะฝะฝะพััั
   โ
5. ะะฐัััั ัะฐะทะฝะธัั ะฒะพ ะฒัะตะผะตะฝะธ
   โ
6. ะะฟัะตะดะตะปะตะฝะธะต ะฟะพะฑะตะดะธัะตะปั
   โ
7. ะัะฟัะฐะฒะบะฐ ัะตะทัะปััะฐัะฐ ะฒัะตะผ ะบะปะธะตะฝัะฐะผ
```

#### ะะดะฝะพะฒัะตะผะตะฝะฝัะต ะฝะฐะถะฐัะธั

**ะะฑะฝะฐััะถะตะฝะธะต:**
- ะะพัะพะณ: 0.25โ2.0 ัะตะบัะฝะดั (ะฝะฐัััะฐะธะฒะฐะตะผัะน)
- ะัะปะธ ัะฐะทะฝะธัะฐ < ะฟะพัะพะณะฐ โ ััะธัะฐัััั ะพะดะฝะพะฒัะตะผะตะฝะฝัะผะธ

**ะะฐะทัะตัะตะฝะธะต ะบะพะปะปะธะทะธะน:**

| ะกะธััะฐัะธั | ะะตะทัะปััะฐั |
|----------|-----------|
| ะะพะผะฐะฝะดั ั ัะฐะฒะฝัะผ ััััะพะผ | ะกะปััะฐะนะฝัะน ะฒัะฑะพั |
| ะก ะฒะบะปัััะฝะฝัะผ Underdog Bonus | ะัะตะธะผััะตััะฒะพ ะพัััะฐััะตะน (+20%) |
| Collision Handling ะพัะบะปัััะฝ | ะะตัะฒัะน ะฟะพ ะฒัะตะผะตะฝะธ |

**ะคะพัะผัะปะฐ Underdog Bonus:**
```
Advantage = 1 - (TeamScore / LeaderScore) ร 0.2
```

### ะกะธััะตะผะฐ ะพัะบะพะฒ

#### ะะฐัะธัะปะตะฝะธะต ะพัะบะพะฒ

| ะะตะนััะฒะธะต | ะัะบะธ |
|----------|------|
| ะัะฐะฒะธะปัะฝัะน ะพัะฒะตั | +ะกัะพะธะผะพััั ะฒะพะฟัะพัะฐ |
| ะะตะฟัะฐะฒะธะปัะฝัะน ะพัะฒะตั | -ะกัะพะธะผะพััั ะฒะพะฟัะพัะฐ (ะพะฟัะธะพะฝะฐะปัะฝะพ) |
| ะัะพะฟััะบ | 0 |

#### ะฅัะฐะฝะตะฝะธะต ะพัะบะพะฒ

```typescript
interface TeamScore {
  teamId: string;
  teamName: string;
  score: number;
}
```

**ะกะธะฝััะพะฝะธะทะฐัะธั:**
- ะัะบะธ ะพะฑะฝะพะฒะปััััั ะฝะฐ ัะพััะต
- ะะฐัััะปะฐัััั ะฒัะตะผ ะบะปะธะตะฝัะฐะผ ัะตัะตะท STATE_SYNC
- ะัะพะฑัะฐะถะฐัััั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ

---

## ะะตะดะฐะบัะพั ะฟะฐะบะตัะพะฒ ะฒะพะฟัะพัะพะฒ

### ะะฑะทะพั (PackEditor)

**ะขัััะบะพะปะพะฝะพัะฝัะน layout:**

```
โโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโ
โ  Packs   โ  Rounds  โ  Themes  โ
โ          โ          โ          โ
โ  Pack 1  โ  Round 1 โ  Theme A โ
โ  Pack 2  โ  Round 2 โ  Theme B โ
โ  Pack 3  โ  Round 3 โ  Theme C โ
โ  + New   โ  + New   โ  + New   โ
โโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโ
```

### ะกะพะทะดะฐะฝะธะต ะฟะฐะบะตัะฐ

#### ะจะฐะณ 1: ะกะพะทะดะฐะฝะธะต ะฟะฐะบะตัะฐ

```typescript
{
  id: "pack_abc123",
  name: "ะะพั ะฒะธะบัะพัะธะฝะฐ",
  cover?: {
    type: "url",
    value: "https://example.com/cover.jpg"
  }
}
```

#### ะจะฐะณ 2: ะกะพะทะดะฐะฝะธะต ัะฐัะฝะดะฐ

```typescript
{
  id: "round_xyz789",
  name: "ะะตัะฒัะน ัะฐัะฝะด",
  type: "normal",  // ะธะปะธ "super"
  readingTimePerLetter: 0.1,
  responseWindow: 10
}
```

**ะขะธะฟั ัะฐัะฝะดะพะฒ:**
- `normal` โ ะพะฑััะฝัะน ัะฐัะฝะด ั ะฒะพะฟัะพัะฐะผะธ
- `super` โ ัะฟะตัะธะฐะปัะฝัะน ัะฐัะฝะด ัะพ ััะฐะฒะบะฐะผะธ

#### ะจะฐะณ 3: ะกะพะทะดะฐะฝะธะต ัะตะผั

```typescript
{
  id: "theme_def456",
  name: "ะััะพัะธั",
  color: "#3B82F6",
  textColor: "#FFFFFF"
}
```

#### ะจะฐะณ 4: ะกะพะทะดะฐะฝะธะต ะฒะพะฟัะพัะฐ

```typescript
{
  id: "q_ghi012",
  text: "ะ ะบะฐะบะพะผ ะณะพะดั ะฝะฐัะฐะปะฐัั ะัะพัะฐั ะผะธัะพะฒะฐั ะฒะพะนะฝะฐ?",
  answers: ["1939", "1941", "1945", "1914"],
  correctAnswer: 0,
  media?: {
    type: "image",
    url: "https://example.com/image.jpg"
  },
  points: 100
}
```

### ะะผะฟะพัั/ะญะบัะฟะพัั

#### ะคะพัะผะฐั ะธะผะฟะพััะฐ

ะขะตะบััะพะฒัะน ัะพัะผะฐั ั ัะฐะทะดะตะปะธัะตะปัะผะธ:

```
# PACKAGE: ะะฐะทะฒะฐะฝะธะต ะฟะฐะบะตัะฐ
# ROUND: ะะฐะทะฒะฐะฝะธะต ัะฐัะฝะดะฐ
## THEME: ะะฐะทะฒะฐะฝะธะต ัะตะผั

? ะขะตะบัั ะฒะพะฟัะพัะฐ
- ะัะฒะตั 1
- ะัะฒะตั 2 (ะฟัะฐะฒะธะปัะฝัะน)
- ะัะฒะตั 3
- ะัะฒะตั 4

? ะขะตะบัั ะฒะพะฟัะพัะฐ 2
- ะัะฒะตั 1 (ะฟัะฐะฒะธะปัะฝัะน)
- ะัะฒะตั 2
```

#### ะญะบัะฟะพัั

JSON-ัะพัะผะฐั ั ะฟะพะปะฝะพะน ััััะบัััะพะน ะฟะฐะบะตัะฐ.

### ะะตะดะธะฐ-ะบะพะฝัะตะฝั

**ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั:**

| ะขะธะฟ | ะคะพัะผะฐัั | ะะฐะบั. ัะฐะทะผะตั |
|-----|---------|--------------|
| ะะทะพะฑัะฐะถะตะฝะธั | jpg, png, gif, webp | 5 MB |
| ะะธะดะตะพ | mp4, webm | 50 MB |
| ะัะดะธะพ | mp3, wav, ogg | 10 MB |

**ะกะฟะพัะพะฑั ะดะพะฑะฐะฒะปะตะฝะธั:**
1. URL โ ะฟััะผะฐั ัััะปะบะฐ ะฝะฐ ัะฐะนะป
2. ะะฐะณััะทะบะฐ โ ัะฐะนะป ะฝะฐ ัะตัะฒะตั (ะพะฟัะธะพะฝะฐะปัะฝะพ)

---

## ะกะตัะตะฒะพะต ะฒะทะฐะธะผะพะดะตะนััะฒะธะต (P2P)

### ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโ         signalling          โโโโโโโโโโโโโโโ
โ             โ โโโโโโโโโโโโโโโโโโโโโโโโโโบ โ             โ
โ   ะฅะพัั      โ      (WebSocket/9000)      โ  ะะปะธะตะฝั 1   โ
โ  (Host)     โ โโโโโโโโโโโฌโโโโโโโโโโโโโโโโบ โ  (Mobile)   โ
โโโโโโโโโโโโโโโ           โ                 โโโโโโโโโโโโโโโ
                            โ
                            โ WebRTC DataChannel
                            โ (P2P)
                            โผ
                     โโโโโโโโโโโโโโโ
                     โ  ะะปะธะตะฝั 2   โ
                     โ  (Mobile)   โ
                     โโโโโโโโโโโโโโโ
```

### ะะตะถะธะผั ะฟะพะดะบะปััะตะฝะธั

#### LAN Mode

**ะขัะตะฑะพะฒะฐะฝะธั:**
- ะฅะพัั ะธ ะบะปะธะตะฝัั ะฒ ะพะดะฝะพะน ัะตัะธ
- ะะฐะฟััะตะฝ signalling server
- ะฅะพัั ะทะฝะฐะตั ัะฒะพะน IP

**ะะพะดะบะปััะตะฝะธะต:**
```
ws://192.168.1.100:9000
```

**QR-ะบะพะด ัะพะดะตัะถะธั:**
```
{"mode":"lan","ip":"192.168.1.100","port":9000,"sessionId":"ABC12"}
```

#### Internet Mode

**ะขัะตะฑะพะฒะฐะฝะธั:**
- ะะพัััะฟ ะบ ะฟัะฑะปะธัะฝะพะผั signalling server
- ะกัะฐะฑะธะปัะฝะพะต ะธะฝัะตัะฝะตั-ัะพะตะดะธะฝะตะฝะธะต

**ะะพะดะบะปััะตะฝะธะต:**
```
wss://public-signalling-server.com
```

**QR-ะบะพะด ัะพะดะตัะถะธั:**
```
{"mode":"internet","sessionId":"ABC12"}
```

### ะขะธะฟั ัะพะพะฑัะตะฝะธะน

#### STATE Messages (ะะฐัะฐะฝัะธัะพะฒะฐะฝะฝะฐั ะดะพััะฐะฒะบะฐ)

| ะขะธะฟ | ะะปะฐัะตะถะฝะฐั ะฝะฐะณััะทะบะฐ | ะะฟะธัะฐะฝะธะต |
|-----|-------------------|----------|
| JOIN_TEAM | clientId, teamId | ะะณัะพะบ ะฟัะธัะพะตะดะธะฝัะตััั ะบ ะบะพะผะฐะฝะดะต |
| LEAVE_TEAM | clientId | ะะณัะพะบ ะฟะพะบะธะดะฐะตั ะบะพะผะฐะฝะดั |
| TEAM_CONFIRMED | clientId | ะะพะดัะฒะตัะถะดะตะฝะธะต ัะพััะฐ |
| UPDATE_SCORE | teamId, score, delta | ะะฑะฝะพะฒะปะตะฝะธะต ััััะฐ |
| BUZZER_STATE | active, timerPhase | ะกะพััะพัะฝะธะต ะฑัะทะทะตัะฐ |

#### EVENT Messages (ะะธะทะบะฐั ะทะฐะดะตัะถะบะฐ)

| ะขะธะฟ | ะะปะฐัะตะถะฝะฐั ะฝะฐะณััะทะบะฐ | ะะฟะธัะฐะฝะธะต |
|-----|-------------------|----------|
| BUZZ | clientId, buzzTime | ะะฐะถะฐัะธะต ะฑัะทะทะตัะฐ |
| SUPER_GAME_BET | teamId, bet | ะกัะฐะฒะบะฐ ะฒ Super Game |
| SUPER_GAME_ANSWER | teamId, answer | ะัะฒะตั ะฒ Super Game |

#### SYNC Messages (ะะตัะธะพะดะธัะตัะบะฐั ัะธะฝััะพะฝะธะทะฐัะธั)

| ะขะธะฟ | ะะปะฐัะตะถะฝะฐั ะฝะฐะณััะทะบะฐ | ะะฟะธัะฐะฝะธะต |
|-----|-------------------|----------|
| STATE_SYNC | buzzerState, teams | ะะพะปะฝะฐั ัะธะฝััะพะฝะธะทะฐัะธั |
| TEAMS_SYNC | teams | ะกะฟะธัะพะบ ะบะพะผะฐะฝะด |
| COMMANDS_LIST | commands | ะกะฟะธัะพะบ ะบะพะผะฐะฝะด |

#### CONTROL Messages (ะฃะฟัะฐะฒะปะตะฝะธะต ัะพะตะดะธะฝะตะฝะธะตะผ)

| ะขะธะฟ | ะะปะฐัะตะถะฝะฐั ะฝะฐะณััะทะบะฐ | ะะฟะธัะฐะฝะธะต |
|-----|-------------------|----------|
| HANDSHAKE | clientId, protocolVersion | ะะตัะฒะธัะฝะพะต ััะบะพะฟะพะถะฐัะธะต |
| HANDSHAKE_RESPONSE | hostId, sessionVersion | ะัะฒะตั ัะพััะฐ |
| PING | timestamp | ะัะพะฒะตัะบะฐ ัะพะตะดะธะฝะตะฝะธั |
| PONG | originalTimestamp | ะัะฒะตั ะฝะฐ ะฟะธะฝะณ |

### ะะฐัะตััะฒะพ ัะพะตะดะธะฝะตะฝะธั

**ะะตััะธะบะธ:**

```typescript
interface ConnectionQuality {
  rtt: number;           // Round-trip time (ms)
  packetLoss: number;    // % ะฟะพัะตััะฝะฝัั ะฟะฐะบะตัะพะฒ
  jitter: number;        // ะะฐัะธะฐัะธั ะทะฐะดะตัะถะบะธ (ms)
  lastPing: number;      // Timestamp ะฟะพัะปะตะดะฝะตะณะพ ะฟะธะฝะณะฐ
  healthScore: number;   // 0-100 ะฐะณัะตะณะธัะพะฒะฐะฝะฝะฐั ะพัะตะฝะบะฐ
}
```

**ะฆะฒะตัะพะฒะฐั ะธะฝะดะธะบะฐัะธั:**
- ๐ข 80-100: ะัะปะธัะฝะพะต
- ๐ก 50-79: ะฅะพัะพัะตะต
- ๐ 20-49: ะะพััะตะดััะฒะตะฝะฝะพะต
- ๐ด 0-19: ะะปะพัะพะต

### ะะตัะตะฟะพะดะบะปััะตะฝะธะต

**ะะฒัะพะผะฐัะธัะตัะบะพะต ะฟะตัะตะฟะพะดะบะปััะตะฝะธะต:**
- ะะฝัะตัะฒะฐะป: 5 ัะตะบัะฝะด
- ะะฐะบัะธะผัะผ ะฟะพะฟััะพะบ: ะฑะตัะบะพะฝะตัะฝะพ
- ะกะพััะฐะฝะตะฝะธะต ัะพััะพัะฝะธั ะฟัะธ ะฟะตัะตะฟะพะดะบะปััะตะฝะธะธ

**ะะพัััะฐะฝะฐะฒะปะธะฒะฐะตะผะพะต ัะพััะพัะฝะธะต:**
- ะะผั ะธะณัะพะบะฐ
- ะัะฑัะฐะฝะฝะฐั ะบะพะผะฐะฝะดะฐ
- ะะฐัััะพะนะบะธ ัะตััะธะธ

---

## ะะพะฝัะธะณััะฐัะธั ะธ ะฝะฐัััะพะนะบะธ

### config.ts

**UI ะะพะฝััะฐะฝัั:**

```typescript
export const UI_CONFIG = {
  BUZZ_DURATION: 3000,          // 3 ัะตะบัะฝะดั
  CLEANUP_INTERVAL: 60000,      // 1 ะผะธะฝััะฐ
  ANIMATION_DURATION: 300,      // 300ms
  STALE_THRESHOLD: 15000,       // 15 ัะตะบัะฝะด
  MAX_NAME_LENGTH: 20
}
```

**ะะฐัััะพะนะบะธ ัะตััะธะธ ะฟะพ ัะผะพะปัะฐะฝะธั:**

```typescript
export const DEFAULT_SESSION_SETTINGS = {
  simultaneousPress: true,
  simultaneousThreshold: 500,
  collisionHandling: true,
  underdogBonus: true,
  readingTimeEnabled: true,
  readingTime: 10,
  responseTimeEnabled: true,
  responseTime: 10,
  handicapEnabled: true,
  handicapDelay: 2
}
```

### localStorage

**ะะปััะธ ััะฐะฝะตะฝะธั:**

| ะะปัั | ะขะธะฟ | ะะฟะธัะฐะฝะธะต |
|------|-----|----------|
| HOST_ID | string | ะฃะฝะธะบะฐะปัะฝัะน ID ัะพััะฐ |
| HOST_UNIQUE_ID | string | Session ID (5 ัะธะผะฒะพะปะพะฒ) |
| TEAMS | Team[] | ะกะฟะธัะพะบ ะบะพะผะฐะฝะด |
| COMMANDS | Command[] | ะัััััะต ะบะพะผะฐะฝะดั |
| SESSION_SETTINGS | SessionSettings | ะะฐัััะพะนะบะธ ัะตััะธะธ |
| CLIENT_ID | string | ID ะบะปะธะตะฝัะฐ (ะผะพะฑะธะปัะฝัะน) |
| CLIENT_NAME | string | ะะผั ะบะปะธะตะฝัะฐ |

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

**.env.local:**

```bash
VITE_GEMINI_API_KEY=your_api_key_here
```

---

## ะะพัััะธะต ะบะปะฐะฒะธัะธ

### ะะปะพะฑะฐะปัะฝัะต

| ะะปะฐะฒะธัะฐ | ะะตะนััะฒะธะต |
|---------|----------|
| `ESC ESC ESC` | ะััะพะด ะธะท ัะตััะธะธ |
| `Space` | ะะฐะปะตะต / ะัะฐะฒะธะปัะฝะพ |
| `Ctrl` | ะะตะฟัะฐะฒะธะปัะฝะพ |
| `F1` | ะัะบัััั ะฝะฐัััะพะนะบะธ |

### ะะฐะฒะธะณะฐัะธั

| ะะปะฐะฒะธัะฐ | ะะตะนััะฒะธะต |
|---------|----------|
| `1-9` | ะะตัะตัะพะด ะบ ัะฐัะฝะดั 1-9 |
| `R R` | ะกะปะตะดัััะธะน ัะฐัะฝะด |
| `E E` | ะัะตะดัะดััะธะน ัะฐัะฝะด |
| `โ` | ะัะพะบัััะบะฐ ะฒะฒะตัั |
| `โ` | ะัะพะบัััะบะฐ ะฒะฝะธะท |

### ะ ะผะพะดะฐะปัะฝะพะผ ะพะบะฝะต ะฒะพะฟัะพัะฐ

| ะะปะฐะฒะธัะฐ | ะะตะนััะฒะธะต |
|---------|----------|
| `Space` | ะัะฐะฒะธะปัะฝัะน ะพัะฒะตั (+ ะพัะบะธ) |
| `Ctrl` | ะะตะฟัะฐะฒะธะปัะฝัะน ะพัะฒะตั (- ะพัะบะธ) |
| `Esc` | ะะฐะบัััั ะฑะตะท ะธะทะผะตะฝะตะฝะธั |

### ะ ัะตะดะฐะบัะพัะต ะฟะฐะบะตัะพะฒ

| ะะปะฐะฒะธัะฐ | ะะตะนััะฒะธะต |
|---------|----------|
| `Ctrl + S` | ะกะพััะฐะฝะธัั ะฟะฐะบะตั |
| `Ctrl + I` | ะะผะฟะพััะธัะพะฒะฐัั ะฟะฐะบะตั |
| `Ctrl + E` | ะญะบัะฟะพััะธัะพะฒะฐัั ะฟะฐะบะตั |
| `Ctrl + N` | ะกะพะทะดะฐัั ะฝะพะฒัะน ัะปะตะผะตะฝั |
| `Delete` | ะฃะดะฐะปะธัั ะฒัะฑัะฐะฝะฝัะน |

---

## ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะะพะดะบะปััะตะฝะธะต

**ะัะพะฑะปะตะผะฐ:** ะะปะธะตะฝัั ะฝะต ะผะพะณัั ะฟะพะดะบะปััะธัััั

**ะะตัะตะฝะธั:**
1. ะัะพะฒะตัะธัั, ััะพ signalling server ะทะฐะฟััะตะฝ (ะฟะพัั 9000)
2. ะัะพะฒะตัะธัั firewall โ ะฟะพัั 9000 ะดะพะปะถะตะฝ ะฑััั ะพัะบััั
3. ะฃะฑะตะดะธัััั, ััะพ ัะพัั ะธ ะบะปะธะตะฝัั ะฒ ะพะดะฝะพะน ัะตัะธ (LAN ัะตะถะธะผ)
4. ะะพะฟัะพะฑะพะฒะฐัั Internet ัะตะถะธะผ

**ะัะพะฒะตัะบะฐ signalling server:**
```bash
# ะัะพะฒะตัะธัั, ะทะฐะฟััะตะฝ ะปะธ ะฟัะพัะตัั
netstat -an | grep 9000

# ะะปะธ ะธัะฟะพะปัะทะพะฒะฐัั PowerShell
Get-NetTCPConnection -LocalPort 9000
```

### ะัะทะทะตั ะฝะต ัะฐะฑะพัะฐะตั

**ะัะพะฑะปะตะผะฐ:** ะะฐะถะฐัะธะต ะฑัะทะทะตัะฐ ะฝะต ัะตะณะธัััะธััะตััั

**ะะตัะตะฝะธั:**
1. ะัะพะฒะตัะธัั ััะฐััั ะฟะพะดะบะปััะตะฝะธั (ะทะตะปัะฝัะน ะธะฝะดะธะบะฐัะพั)
2. ะฃะฑะตะดะธัััั, ััะพ ะฑัะทะทะตั ะฐะบัะธะฒะตะฝ (ะฟัะปััะธััะตั)
3. ะัะพะฒะตัะธัั ะทะฐะดะตัะถะบั ัะพะตะดะธะฝะตะฝะธั (RTT)
4. ะะตัะตะทะฐะฟัััะธัั ะผะพะฑะธะปัะฝัะน ะบะปะธะตะฝั

### ะขะฐะนะผะตัั ะฝะต ัะธะฝััะพะฝะธะทะธัะพะฒะฐะฝั

**ะัะพะฑะปะตะผะฐ:** ะขะฐะนะผะตั ะฝะฐ ัะพััะต ะธ ะบะปะธะตะฝัะฐั ะพัะปะธัะฐะตััั

**ะะตัะตะฝะธั:**
1. ะัะพะฒะตัะธัั ัะธะฝััะพะฝะธะทะฐัะธั ะฒัะตะผะตะฝะธ ะฝะฐ ััััะพะนััะฒะฐั
2. ะฃะผะตะฝััะธัั readingTimePerLetter
3. ะฃะฒะตะปะธัะธัั responseWindow

### ะะฐะดะตะฝะธะต ัะพะตะดะธะฝะตะฝะธั

**ะัะพะฑะปะตะผะฐ:** ะะปะธะตะฝัั ะฟะตัะธะพะดะธัะตัะบะธ ะพัะบะปััะฐัััั

**ะะตัะตะฝะธั:**
1. ะัะพะฒะตัะธัั ะบะฐัะตััะฒะพ WiFi ัะธะณะฝะฐะปะฐ
2. ะฃะผะตะฝััะธัั ะบะพะปะธัะตััะฒะพ ะพะดะฝะพะฒัะตะผะตะฝะฝัั ะบะปะธะตะฝัะพะฒ
3. ะัะฟะพะปัะทะพะฒะฐัั ะฟัะพะฒะพะดะฝะพะต ัะพะตะดะธะฝะตะฝะธะต ะดะปั ัะพััะฐ
4. ะัะพะฒะตัะธัั ะฝะฐะณััะทะบั ะฝะฐ signalling server

### QR-ะบะพะด ะฝะต ัะบะฐะฝะธััะตััั

**ะัะพะฑะปะตะผะฐ:** ะะฐะผะตัะฐ ะฝะต ัะฐัะฟะพะทะฝะฐัั QR-ะบะพะด

**ะะตัะตะฝะธั:**
1. ะฃะฒะตะปะธัััะต ัะฐะทะผะตั QR-ะบะพะดะฐ (ะฝะฐัััะพะนะบะธ)
2. ะฃะปัััะธัะต ะพัะฒะตัะตะฝะธะต
3. ะะพะฟัะพะฑัะนัะต ะฐะปััะตัะฝะฐัะธะฒะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ะดะปั ัะบะฐะฝะธัะพะฒะฐะฝะธั
4. ะัะฟะพะปัะทัะนัะต ัะตะบััะพะฒัั ัััะปะบั ะฒะผะตััะพ QR

---

## ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััััั

### ะะฐะฟััะบ signalling server

```bash
npm run server
# ะธะปะธ
node server/signalling-server.js
```

### ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั

```bash
npm run dev
# Development mode ะฝะฐ ะฟะพััั 3000
```

### ะกะฑะพัะบะฐ ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ

```bash
npm run build
# ะกะพะทะดะฐัั dist/ ะดะธัะตะบัะพัะธั
```

### ะะพะปะฝะฐั ัะฑะพัะบะฐ (ัะตัะฒะตั + ะบะปะธะตะฝั)

```bash
npm run start:all
# ะะฐะฟััะบะฐะตั signalling server ะธ dev server ะฟะฐัะฐะปะปะตะปัะฝะพ
```

---

*ะะตััะธั ะดะพะบัะผะตะฝัะฐัะธะธ: 0.1.2*
*ะะฐัะฐ ะพะฑะฝะพะฒะปะตะฝะธั: 2026-02-17*
